
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="images/favicon.ico">
    <title>FMex API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight {
  color: #faf6e4;
  background-color: #122b3b;
}
.highlight .gl {
  color: #dee5e7;
  background-color: #4e5d62;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #6c8b9f;
  font-style: italic;
}
.highlight .cp {
  color: #b2fd6d;
  font-weight: bold;
  font-style: italic;
}
.highlight .err {
  color: #fefeec;
  background-color: #cc0000;
}
.highlight .gr {
  color: #fefeec;
  background-color: #cc0000;
}
.highlight .k, .highlight .kd, .highlight .kv {
  color: #f6dd62;
  font-weight: bold;
}
.highlight .o, .highlight .ow {
  color: #4df4ff;
}
.highlight .p, .highlight .pi {
  color: #4df4ff;
}
.highlight .gd {
  color: #cc0000;
}
.highlight .gi {
  color: #b2fd6d;
}
.highlight .ge {
  font-style: italic;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gt {
  color: #dee5e7;
  background-color: #4e5d62;
}
.highlight .kc {
  color: #f696db;
  font-weight: bold;
}
.highlight .kn {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kp {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kr {
  color: #ffb000;
  font-weight: bold;
}
.highlight .gh {
  color: #ffb000;
  font-weight: bold;
}
.highlight .gu {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kt {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .no {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nc {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nd {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nn {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .bp {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .ne {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nl {
  color: #ffb000;
  font-weight: bold;
}
.highlight .nt {
  color: #ffb000;
  font-weight: bold;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #f696db;
  font-weight: bold;
}
.highlight .ld {
  color: #f696db;
  font-weight: bold;
}
.highlight .ss {
  color: #f696db;
  font-weight: bold;
}
.highlight .s, .highlight .sb, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .sr, .highlight .s1 {
  color: #fff0a6;
  font-weight: bold;
}
.highlight .se {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .sc {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .si {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .nb {
  font-weight: bold;
}
.highlight .ni {
  color: #999999;
  font-weight: bold;
}
.highlight .w {
  color: #BBBBBB;
}
.highlight .nf {
  color: #a8e1fe;
}
.highlight .py {
  color: #a8e1fe;
}
.highlight .na {
  color: #a8e1fe;
}
.highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi {
  color: #a8e1fe;
  font-weight: bold;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="en" data-languages="[&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" />
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">introduction</a>
          </li>
          <li>
            <a href="#autennication" class="toc-h1 toc-link" data-title="autennication">Autennication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#access-limitations" class="toc-h2 toc-link" data-title="access-limitations">Access limitations</a>
                  </li>
                  <li>
                    <a href="#api-signature" class="toc-h2 toc-link" data-title="api-signature">API signature</a>
                  </li>
                  <li>
                    <a href="#complete-example" class="toc-h2 toc-link" data-title="complete-example">Complete example</a>
                  </li>
                  <li>
                    <a href="#parameter-name" class="toc-h2 toc-link" data-title="parameter-name">Parameter name</a>
                  </li>
                  <li>
                    <a href="#instructions" class="toc-h2 toc-link" data-title="instructions">instructions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#public-interface" class="toc-h1 toc-link" data-title="public-interface">Public interface</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#obtain-all-current-trading-pairs-on-the-exchange" class="toc-h2 toc-link" data-title="obtain-all-current-trading-pairs-on-the-exchange">Obtain all current trading pairs on the exchange</a>
                  </li>
                  <li>
                    <a href="#obtain-time" class="toc-h2 toc-link" data-title="obtain-time">Obtain time</a>
                  </li>
                  <li>
                    <a href="#obtain-currency" class="toc-h2 toc-link" data-title="obtain-currency">Obtain currency</a>
                  </li>
                  <li>
                    <a href="#obtain-index-list" class="toc-h2 toc-link" data-title="obtain-index-list">Obtain index list</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#market" class="toc-h1 toc-link" data-title="market">Market</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#market-overview" class="toc-h2 toc-link" data-title="market-overview">Market overview</a>
                  </li>
                  <li>
                    <a href="#websocket-connection-established-firstly" class="toc-h2 toc-link" data-title="websocket-connection-established-firstly">WebSocket connection established firstly</a>
                  </li>
                  <li>
                    <a href="#websocket-connection-remains-heartbeat" class="toc-h2 toc-link" data-title="websocket-connection-remains-heartbeat">WebSocket connection remains - heartbeat</a>
                  </li>
                  <li>
                    <a href="#websocket-subscription" class="toc-h2 toc-link" data-title="websocket-subscription">WebSocket subscription</a>
                  </li>
                  <li>
                    <a href="#obtain-ticker-data" class="toc-h2 toc-link" data-title="obtain-ticker-data">Obtain ticker data</a>
                  </li>
                  <li>
                    <a href="#obtain-the-latest-depth-details" class="toc-h2 toc-link" data-title="obtain-the-latest-depth-details">Obtain the latest depth details</a>
                  </li>
                  <li>
                    <a href="#obtain-the-latest-transaction-details" class="toc-h2 toc-link" data-title="obtain-the-latest-transaction-details">Obtain the latest transaction details</a>
                  </li>
                  <li>
                    <a href="#obtain-candle-information" class="toc-h2 toc-link" data-title="obtain-candle-information">Obtain Candle information</a>
                  </li>
                  <li>
                    <a href="#obtain-the-current-system-index" class="toc-h2 toc-link" data-title="obtain-the-current-system-index">Obtain the current system index</a>
                  </li>
                  <li>
                    <a href="#obtain-the-latest-value-of-a-certain-index" class="toc-h2 toc-link" data-title="obtain-the-latest-value-of-a-certain-index">Obtain the latest value of a certain index</a>
                  </li>
                  <li>
                    <a href="#obtain-fee-rate" class="toc-h2 toc-link" data-title="obtain-fee-rate">Obtain fee rate</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#account" class="toc-h1 toc-link" data-title="account">Account</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#query-the-balance-of-the-current-account" class="toc-h2 toc-link" data-title="query-the-balance-of-the-current-account">Query the balance of the current account</a>
                  </li>
                  <li>
                    <a href="#transfer-margin-to-wallet" class="toc-h2 toc-link" data-title="transfer-margin-to-wallet">Transfer Margin to wallet</a>
                  </li>
                  <li>
                    <a href="#query-the-current-executing-state-of-a-transfer-out-operation-contract-gt-wallet" class="toc-h2 toc-link" data-title="query-the-current-executing-state-of-a-transfer-out-operation-contract-gt-wallet">Query the current executing state of a transfer-out operation (Contract-&gt;wallet)</a>
                  </li>
                  <li>
                    <a href="#query-transfer-journal" class="toc-h2 toc-link" data-title="query-transfer-journal">Query transfer journal</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#order" class="toc-h1 toc-link" data-title="order">Order</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#order-mode-instruction" class="toc-h2 toc-link" data-title="order-mode-instruction">Order mode instruction</a>
                  </li>
                  <li>
                    <a href="#create-new-orders" class="toc-h2 toc-link" data-title="create-new-orders">Create new orders</a>
                  </li>
                  <li>
                    <a href="#cancel-order" class="toc-h2 toc-link" data-title="cancel-order">Cancel order</a>
                  </li>
                  <li>
                    <a href="#query-activity-orders" class="toc-h2 toc-link" data-title="query-activity-orders">Query activity orders</a>
                  </li>
                  <li>
                    <a href="#query-activity-orders-details" class="toc-h2 toc-link" data-title="query-activity-orders-details">Query activity orders details</a>
                  </li>
                  <li>
                    <a href="#obtain-order-details-by-order-id" class="toc-h2 toc-link" data-title="obtain-order-details-by-order-id">Obtain order details by order id</a>
                  </li>
                  <li>
                    <a href="#query-history-order" class="toc-h2 toc-link" data-title="query-history-order">Query history order</a>
                  </li>
                  <li>
                    <a href="#query-order-fulfillment-history" class="toc-h2 toc-link" data-title="query-order-fulfillment-history">Query order fulfillment history</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#positions" class="toc-h1 toc-link" data-title="positions">Positions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#obtain-position-lists" class="toc-h2 toc-link" data-title="obtain-position-lists">Obtain position lists</a>
                  </li>
                  <li>
                    <a href="#set-position-leverage" class="toc-h2 toc-link" data-title="set-position-leverage">Set position leverage</a>
                  </li>
                  <li>
                    <a href="#set-position-margin" class="toc-h2 toc-link" data-title="set-position-margin">Set position margin</a>
                  </li>
                  <li>
                    <a href="#set-risk-level-of-the-position" class="toc-h2 toc-link" data-title="set-risk-level-of-the-position">Set risk level of the position</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://exchange.fcoin.com/setting/api'>Apply API Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>introduction</h1>
<p>You can easily access the FMex trading platform using the API provided by FMex through the following information.</p>

<p>API domain name of real trading: https://api.fmex.com</p>

<p>API domain name of testnet trading: https://api.testnet.fmex.com</p>

<p>API access address: https://api.fmex.com/ &lt; path &gt;, please note that we only support HTTPS access but not HTTP.</p>

<p>API requests: only GET or POST requests are supported.</p>

<p>For the GET request, all request parameters shall be transferred-in by queryString, for example: /v1/contracts/orders/open?symbol=btcusd_p</p>

<p>For the POST Request, all request parameters shall be transferred-in by JSON Request as Request Body. The request Type must be content-type: application/json.</p>
<h1 id='autennication'>Autennication</h1>
<p>FMex uses API key and API secret of FCoin testnet for authentication，please access &quot;settings&quot;(https://exchange.fcoin.com/settings/api) to obtain API key and API secret.</p>

<p>FMex uses API request of  FCoin, all other API require API key and signature expect public API.</p>
<h2 id='access-limitations'>Access limitations</h2>
<p>The access frequency is 100 times / 10 seconds per user at present. And access frequency will be restricted according to the business in the future.</p>
<h2 id='api-signature'>API signature</h2>
<p>The data prepared before signature is as follows:</p>

<p><code>HTTP_METHOD</code> + <code>HTTP_REQUEST_URI</code> + <code>TIMESTAMP</code> + <code>POST_BODY</code></p>

<p>After the connection is completed, conduct &#39;Base64&#39; encoding, sign &#39;hmac-sha1&#39; for the encoded data, and conduct &#39;Base64&#39; encoding twice for the signature. Each part is explained as follows:</p>

<aside class="warning">
Please be noted that 'Base64' encoding needs to be done twice!
</aside>
<h3 id='http_method'>HTTP_METHOD</h3>
<p><code>GET</code>, <code>POST</code>, <code>DELETE</code>, <code>PUT</code> must be in capital letters</p>
<h3 id='http_request_uri'>HTTP_REQUEST_URI</h3>
<p><code>https://api.testnet.fmex.com/</code> is the prefix of API request</p>

<p>The actual resource path to access needs to be added, such as <code>orders?param1=value1</code>，this final shall be <code>https://api.testnet.fmex.com/orders?param1=value1</code></p>

<p>Please alphabetize the parameters in the requested URI.</p>

<p>If the request URI is <code>https://api.testnet.fmex.com/orders?c=value1&amp;b=value2&amp;a=value3</code>，then the request parameters should be alphabetized first when signing, and the final URI for signing is <code>https://XXX/orders?
a=value3&amp;b=value2&amp;c=value1</code>，
Please be noted that the three parameters in the original request URI are in order &#39;c, b, a&#39; and  &#39;a, b, c&#39; after alphabetizing.</p>
<h3 id='timestamp'>TIMESTAMP</h3>
<p>The UNIX EPOCH timestamp for accessing API needs to at less than 30 seconds from the server</p>
<h3 id='post_body'>POST_BODY</h3>
<p>If it is a &#39;POST&#39; request, the &#39;POST&#39; request data also needs to be signed. The signature rules are as follows:
The keys of all requests are sorted alphabetically, then the url is parameterized and connected by using &#39;&amp;&#39;.</p>

<aside class="warning">
Please alphabetize the key assignments of POST_BODY!
</aside>

<blockquote>
<p>If the request data is:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passowrd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>therefore, first to alphabetize Key and then parameterized the url  which is：</p>
</blockquote>
<pre class="highlight plaintext"><code>password=password
username=username
</code></pre>
<blockquote>
<p>Because &#39;p&#39; is sorted before &#39;u&#39; in the alphabet, &#39;password&#39; should be placed before &#39;username&#39; and then connected with &#39;&amp;&#39;, that is:</p>
</blockquote>
<pre class="highlight plaintext"><code>password=password&amp;username=username
</code></pre><h2 id='complete-example'>Complete example</h2>
<blockquote>
<p>for the following request:</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.testnet.fmex.com/orders

{
  "symbol":"btcusd_p",
  "type":"limit",
  "direction":"short",
  "source":"web",
  "price":5500,
  "quantity":100
}

timestamp: 1523069544359
</code></pre>
<blockquote>
<p>The prepared data before signing are as follows: </p>
</blockquote>
<pre class="highlight plaintext"><code>POSThttps://api.testnet.fmex.com/v3/contracts/orders1571109222426direction=short&amp;price=5500&amp;quantity=100&amp;source=WEB&amp;symbol=btcusd_p&amp;type=limit
</code></pre>
<blockquote>
<p>Conduct Base64 code，then you will get：</p>
</blockquote>
<pre class="highlight plaintext"><code>UE9TVGh0dHBzOi8vYXBpLnRlc3RuZXQuZm1leC5jb20vdjMvY29udHJhY3RzL29yZGVyczE1NzExMDkyMjI0MjZkaXJlY3Rpb249c2hvcnQmcHJpY2U9NTUwMCZxdWFudGl0eT0xMDAmc291cmNlPVdFQiZzeW1ib2w9YnRjdXNkX3AmdHlwZT1saW1pdA==
</code></pre>
<blockquote>
<p>copy SECRET (API SECRET)when applying for API Key, using <code>ebfaeef06e2e49e1bc7e535c2766bbe6</code> as an example for the signature results ，</p>

<p>Use private key for <code>HMAC-SHA1</code> signature  for the obtained result, conduct Base64 encode to the binary result then you will get:
<code>
g6vFomL3T3pOhCugUNo/UcaLxTw=
</code></p>

<p>Then generates the final signature used for API server authentication</p>
<h2 id='parameter-name'>Parameter name</h2></blockquote>

<ul>
<li><code>FC-ACCESS-KEY</code></li>
<li><code>FC-ACCESS-SIGNATURE</code></li>
<li><code>FC-ACCESS-TIMESTAMP</code></li>
</ul>
<h2 id='instructions'>instructions</h2>
<p>You can use <a href="#">developer tool</a> (not available yet) for online debugging,</p>
<h1 id='public-interface'>Public interface</h1><h2 id='obtain-all-current-trading-pairs-on-the-exchange'>Obtain all current trading pairs on the exchange</h2>
<p>This API is used for obtaining all current trading pairs.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /v2/public/contracts/symbols</code></p>
<h2 id='obtain-time'>Obtain time</h2>
<p>This API is used for obtaining system time</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /v2/public/server-time</code></p>
<h2 id='obtain-currency'>Obtain currency</h2>
<p>This API is used for obtaining currencies</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /v2/public/contracts/currencies</code></p>
<h2 id='obtain-index-list'>Obtain index list</h2>
<p>This API is used for obtaining index list</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /v2/public/indexes/symbols</code></p>
<h1 id='market'>Market</h1><h2 id='market-overview'>Market overview</h2>
<p>Market is a fully public API, HTTP and WebSocket API are available for now.
WebSocket is recommended to ensure more timely access to the market.
The current public part can only obtain the market of the latest period to ensure the real-time performance of the market as far as possible. If you need to obtain the full volume or historical market, please consult <code>support@fmex.com</code></p>

<p>All HTTP request URLs base is: <code>https://api.fmex.com</code></p>

<p>All WebSocket request URL is: <code>wss://api.fmex.com/v2/ws</code></p>

<p>Controlled terminology in following text:</p>

<ul>
<li><code>topic</code> is the topic subscribed</li>
<li><code>symbol</code> means the currency of the transaction, the topic distinguish the currencies is at the end of the topic.<br></li>
<li><code>ticker</code> market tick information include the latest closed price, the latest volume, BUY 1 &amp; SELL 1 and the volume of the latest 24 hours.</li>
<li><code>depth</code> means the market depth, orderbook and order book entrance.</li>
<li><code>level</code> represents the type of market depth, such as&#39; L20 &#39;, &#39;L100&#39;.</li>
<li><code>trade</code> means the latest fulfilled orders and transaction.</li>
<li><code>candle</code> means a diagram, a candle stick, a K line.</li>
<li><code>resolution</code>  means the type of candle chart, such as&#39; M1 &#39;, &#39;M15&#39;. </li>
<li><code>base volume</code> represents the volume of the base currency, such as  btc in btcusdt。</li>
<li><code>quote volume</code> refers to the volume of the quota currency, such as the volume of usdt in btcusdt</li>
<li><code>ts</code> represents the time of server push, which is numeric type in millisecond, unix epoch in millisecond.</li>
</ul>
<h2 id='websocket-connection-established-firstly'>WebSocket connection established firstly</h2>
<p>The server sends a welcome message when the connection for the first time is successful</p>

<p>The server returns information after the connection is successful:</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523693784042</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<ul>
<li><code>ts</code>: represents the current time of server push.</li>
</ul>
</blockquote>
<h2 id='websocket-connection-remains-heartbeat'>WebSocket connection remains - heartbeat</h2><pre class="highlight python tab-python"><code><span class="c"># WebSocket send ping - heartbeat to server end </span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">fcoin</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">fcoin</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'key'</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
<span class="n">now_ms</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<span class="n">api</span><span class="o">.</span><span class="n">market</span><span class="o">.</span><span class="n">ping</span><span class="p">(</span><span class="n">now_ms</span><span class="p">)</span>
</code></pre>
<p>After the connection is established between the WebSocket  Client and the WebSocket server, it is recommended that the WebSocket Client make a ping request to the server every <em>15s</em> (10 ~ 20s are recommended). If the server does not receive the ping request from the Client for a long time, it will actively disconnect.</p>
<h3 id='websocket-request'>WebSocket request</h3>
<p>Send <strong>ping commend</strong>: <code>{&quot;cmd&quot;:&quot;ping&quot;,&quot;args&quot;:[$client_ts],&quot;id&quot;:&quot;$client_id&quot;}</code></p>

<ul>
<li><code>client_id</code>:  The server returns it as is if the client is  a custom id specified by the current request </li>
<li><code>client_ts</code>: current time on client end</li>
</ul>

<blockquote>
<p>ping command request example：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"cmd"</span><span class="p">:</span><span class="s2">"ping"</span><span class="p">,</span><span class="s2">"args"</span><span class="p">:[</span><span class="mi">1540557696867</span><span class="p">],</span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"sample.client.id"</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>server return successfully ping commend：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"sample.client.id"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"ping"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523693784042</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gap"</span><span class="p">:</span><span class="mi">112</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<ul>
<li><code>gap</code>: The time gap between the push server to process this statement and the client to transmit it.</li>
<li><code>ts</code>:  The current time of the push server</li>
</ul>
</blockquote>

<aside class="notice">
tip: Can obtain the time gap  between push server time and data transmission by the ts and gap the server returned by ping request 
</aside>
<h2 id='websocket-subscription'>WebSocket subscription</h2>
<p>Send <strong>sub commend</strong>: <code>{&quot;cmd&quot;:&quot;sub&quot;,&quot;args&quot;:[&quot;$topic&quot;, ...],&quot;id&quot;:&quot;$client_id&quot;}</code></p>

<ul>
<li><code>client_id</code>: The custom id specified by the client for the current request will be returned as is by the server</li>
<li><code>topic</code>: multiple topics to be subscribed, please separate them with English comma &#39;, &#39;The maximum  can be subscribed is 20 </li>
</ul>

<blockquote>
<p>sub commend request example (single topic)：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"cmd"</span><span class="p">:</span><span class="s2">"sub"</span><span class="p">,</span><span class="s2">"args"</span><span class="p">:[</span><span class="s2">"ticker.ethbtc"</span><span class="p">]}</span><span class="w">
</span></code></pre>
<blockquote>
<p>sub commend request example （multiple topics）：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"cmd"</span><span class="p">:</span><span class="s2">"sub"</span><span class="p">,</span><span class="s2">"args"</span><span class="p">:[</span><span class="s2">"ticker.ethbtc"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ticker.btcusdt"</span><span class="p">]}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The responding result of the successful subscription are as follows：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"topics"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ticker.ethbtc"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ticker.btcusdt"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The responding result of the failed subscription are as follows：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"invalid_topics_sample"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="mi">41002</span><span class="p">,</span><span class="w">
  </span><span class="s2">"msg"</span><span class="p">:</span><span class="s2">"invalid sub topic, xxx.M1.xxx"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='obtain-ticker-data'>Obtain ticker data</h2>
<p>To make the ticker information group small and fast enough, we forced the use of a list format.</p>

<blockquote>
<p>Corresponding meaning description of the ticker list:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"Latest closed price"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Amount of last transaction"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Maximum price of buy 1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Maximum amount of buy 1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Minimum price of buy 1"",
  "</span><span class="err">Minimum</span><span class="w"> </span><span class="err">amount</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">buy</span><span class="w"> </span><span class="mi">1</span><span class="s2">",
  "</span><span class="err">The</span><span class="w"> </span><span class="err">closed</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="err">hours</span><span class="w"> </span><span class="err">ago</span><span class="s2">",
  "</span><span class="err">The</span><span class="w"> </span><span class="err">highest</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">within</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="err">hours</span><span class="s2">",
  "</span><span class="err">The</span><span class="w"> </span><span class="err">lowest</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">within</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="err">hours</span><span class="s2">",
  "</span><span class="err">Volume</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">base</span><span class="w"> </span><span class="err">currency</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="err">hours</span><span class="w"> </span><span class="err">such</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">btc</span><span class="w"> </span><span class="err">btcusdt</span><span class="s2">",
  "</span><span class="err">Volume</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">quota</span><span class="w"> </span><span class="err">currency</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="err">hours</span><span class="w"> </span><span class="err">such</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">used</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">btcusdt</span><span class="w"> </span><span class="s2">"
]
</span></code></pre><h3 id='http-request'>HTTP request</h3>
<p><code>GET https://api.fmex.com/v2/market/ticker/$symbol</code></p>

<blockquote>
<p>The result of HTTP request is noticed as follow：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker.btcusdt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"seq"</span><span class="p">:</span><span class="w"> </span><span class="mi">680035</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ticker"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mf">7140.890000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1.000000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">7131.330000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">233.524600000</span><span class="p">,</span><span class="w">
      </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">225.495049866</span><span class="p">,</span><span class="w">
      </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">7140.890000000000000000</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='websocket-subscription-2'>WebSocket subscription</h3>
<p>Send <strong>sub commend</strong>，topic: <code>ticker.$symbol</code>  (Please refer to <code>WebSocket subscription</code>)</p>

<blockquote>
<p>The result of WebSocket subscription is noticed as follow:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker.btcusdt"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"seq"</span><span class="p">:</span><span class="w"> </span><span class="mi">680035</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ticker"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mf">7140.890000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">1.000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">7131.330000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">233.524600000</span><span class="p">,</span><span class="w">
    </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">225.495049866</span><span class="p">,</span><span class="w">
    </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">7140.890000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
    </span><span class="mf">7140.890000000000000000</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='obtain-the-latest-depth-details'>Obtain the latest depth details</h2><h3 id='http-request-2'>HTTP request</h3>
<p><code>GET https://api.fmex.com/v2/market/depth/$level/$symbol</code></p>

<p><code>$level</code> included types (case sensitive)：</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>L20</code></td>
<td>20-level market depth</td>
</tr>
<tr>
<td><code>L150</code></td>
<td>150-level market depth.</td>
</tr>
</tbody></table>

<p>Among the push time of <code>L20</code> will be a bit earlier than <code>L150</code>, and the push frequency will be a bit more than <code>L150</code>, please use as appropriate for specific stress and situation.</p>

<blockquote>
<p>The result of WebSocket subscription is noticed as follow：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth.L20.ethbtc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1523619211000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"seq"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.000100000</span><span class="p">,</span><span class="w"> </span><span class="mf">1.000000000</span><span class="p">,</span><span class="w"> </span><span class="mf">0.000010000</span><span class="p">,</span><span class="w"> </span><span class="mf">1.000000000</span><span class="p">],</span><span class="w">
    </span><span class="s2">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w"> </span><span class="mf">1.000000000</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='websocket-subscription-3'>WebSocket subscription</h3>
<p>Send <strong>sub commend</strong>，topic: <code>depth.$level.$symbol</code>   (please refer to <code>WebSocket subscription</code>)</p>

<blockquote>
<p>The result of WebSocket subscription is noticed as follow:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth.L20.ethbtc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1523619211000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"seq"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.000100000</span><span class="p">,</span><span class="w"> </span><span class="mf">1.000000000</span><span class="p">,</span><span class="w"> </span><span class="mf">0.000010000</span><span class="p">,</span><span class="w"> </span><span class="mf">1.000000000</span><span class="p">],</span><span class="w">
  </span><span class="s2">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w"> </span><span class="mf">1.000000000</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The corresponding array between bids and asks must be even number Buy (Sell)1 price,Buy (Sell)1 quantity, in order.</p>
</blockquote>
<h2 id='obtain-the-latest-transaction-details'>Obtain the latest transaction details</h2>
<p>By comparing the size of the transaction id  to determine whether it is an updated transaction.
It should be noted that due to the trade to transaction process, the transaction id of the public market does not actually correspond to the transaction id in the clearing system.
Even if the transaction is a record, there is no guarantee that the id of the latest transaction will always be the same when retrieved. </p>

<p>PS: It&#39;s guaranteed that the transaction id is kept constant in the historical market. {transaction id} is only used as a market update notification and should not be relied on for filing.</p>
<h3 id='http-request-3'>HTTP request</h3>
<p><code>GET https://api.fmex.com/v2/market/trades/$symbol</code></p>
<h4 id='request-parameters-http-request'>Request parameters(HTTP request)</h4>
<table><thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>before</td>
<td></td>
<td>Query the history trade of a certain id</td>
</tr>
<tr>
<td>limit</td>
<td></td>
<td>20  by default</td>
</tr>
</tbody></table>
<h3 id='websocket-request-2'>WebSocket request</h3>
<p>Send *<em>req commend *</em>: <code>{&quot;cmd&quot;:&quot;req&quot;, &quot;args&quot;:[&quot;$topic&quot;, limit],&quot;id&quot;:&quot;$client_id&quot;}</code></p>

<ul>
<li><code>client_id</code>: The custom id specified by the client for the current request will be returned as is by the server</li>
<li><code>topic</code>: <code>trade.$symbol</code></li>
<li><code>limit</code>: the closed transaction number need to be obtained.</li>
</ul>

<blockquote>
<p>The result of WebSocket subscription is noticed as follow：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523693400329</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523419946174</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">76000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">4.000000000</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523419114272</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">74000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">4.000000000</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523415182356</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">71000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">3.000000000</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='websocket-subscription-4'>WebSocket subscription</h3>
<p>send <strong>sub commend</strong>，topic: <code>trade.$symbol</code>   (please refer to <code>WebSocket subsription</code>)</p>

<ul>
<li><code>symbol</code>: corresponding trading pairs</li>
</ul>

<blockquote>
<p>The result of WebSocket subscription is noticed as follow:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"trade.ethbtc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">76000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">1.000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ts"</span><span class="p">:</span><span class="mi">1523419946174</span><span class="p">,</span><span class="w">
  </span><span class="s2">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="mf">4.000000000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='obtain-candle-information'>Obtain Candle information</h2><h3 id='http-request-4'>HTTP request</h3>
<p><code>GET https://api.fmex.com/v2/market/candles/$resolution/$symbol</code></p>
<h4 id='request-parameters-http-request-2'>Request parameters(HTTP request)</h4>
<table><thead>
<tr>
<th>Parameters</th>
<th>Defaults</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>before</td>
<td></td>
<td>Query the history Candle of a certain id</td>
</tr>
<tr>
<td>limit</td>
<td></td>
<td>20 by defaults</td>
</tr>
</tbody></table>

<p>$resolution including types(case sensitive)：</p>

<table><thead>
<tr>
<th>Type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>M1</code></td>
<td>1 Minute</td>
</tr>
<tr>
<td><code>M3</code></td>
<td>3 Minutes</td>
</tr>
<tr>
<td><code>M5</code></td>
<td>5 Minutes</td>
</tr>
<tr>
<td><code>M15</code></td>
<td>15 Minutes</td>
</tr>
<tr>
<td><code>M30</code></td>
<td>30 Minutes</td>
</tr>
<tr>
<td><code>H1</code></td>
<td>1 Hour</td>
</tr>
<tr>
<td><code>H4</code></td>
<td>4 Hours</td>
</tr>
<tr>
<td><code>H6</code></td>
<td>6 Hours</td>
</tr>
<tr>
<td><code>D1</code></td>
<td>1 Day</td>
</tr>
<tr>
<td><code>W1</code></td>
<td>1 Week</td>
</tr>
<tr>
<td><code>MN</code></td>
<td>1 Month</td>
</tr>
</tbody></table>
<h3 id='websocket-request-3'>WebSocket request</h3>
<p>Send <strong>req commend</strong>: <code>{&quot;cmd&quot;:&quot;req&quot;,&quot;args&quot;:[&quot;$topic&quot;,limit,before],&quot;id&quot;:&quot;$client_id&quot;}</code></p>

<ul>
<li><code>client_id</code>: The custom id specified by the client for the current request will be returned as is by the server</li>
<li><code>topic</code>: <code>candle.$resolution.$symbol</code></li>
<li><code>limit</code>: The candle number needs to be obtained</li>
<li><code>before</code>: Query the history Candle of a certain id </li>
</ul>

<blockquote>
<p>The responding result of the successful WebSocket request is as follow：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"candle.M15.btcusdt"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1540809840</span><span class="p">,</span><span class="w">
      </span><span class="s2">"seq"</span><span class="p">:</span><span class="mi">24793830600000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"high"</span><span class="p">:</span><span class="mf">6491.74</span><span class="p">,</span><span class="w">
      </span><span class="s2">"low"</span><span class="p">:</span><span class="mf">6489.24</span><span class="p">,</span><span class="w">
      </span><span class="s2">"open"</span><span class="p">:</span><span class="mf">6491.24</span><span class="p">,</span><span class="w">
      </span><span class="s2">"close"</span><span class="p">:</span><span class="mf">6490.07</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_vol"</span><span class="p">:</span><span class="mf">8.2221</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quote_vol"</span><span class="p">:</span><span class="mf">53371.531286</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1540809900</span><span class="p">,</span><span class="w">
      </span><span class="s2">"seq"</span><span class="p">:</span><span class="mi">24793879800000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"high"</span><span class="p">:</span><span class="mf">6490.47</span><span class="p">,</span><span class="w">
      </span><span class="s2">"low"</span><span class="p">:</span><span class="mf">6487.62</span><span class="p">,</span><span class="w">
      </span><span class="s2">"open"</span><span class="p">:</span><span class="mf">6490.09</span><span class="p">,</span><span class="w">
      </span><span class="s2">"close"</span><span class="p">:</span><span class="mf">6487.62</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="mi">23</span><span class="p">,</span><span class="w">
      </span><span class="s2">"base_vol"</span><span class="p">:</span><span class="mf">10.8527</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quote_vol"</span><span class="p">:</span><span class="mf">70430.840624</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='websokcet-subscription'>WebSokcet subscription</h3>
<p>Send <strong>sub commend</strong>，topic: <code>candle.$resolution.$symbol</code>   (please refer to <code>WebSocket subsription</code>)</p>

<ul>
<li><code>resolution</code>： Same as HTTP request resolution parameter</li>
</ul>

<blockquote>
<p>The notice of the WebSocket subscription result is as follow:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"candle.M1.ethbtc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1523691480</span><span class="p">,</span><span class="w">
  </span><span class="s2">"seq"</span><span class="p">:</span><span class="mi">11400000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"open"</span><span class="p">:</span><span class="mf">2.000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"close"</span><span class="p">:</span><span class="mf">2.000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"high"</span><span class="p">:</span><span class="mf">2.000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"low"</span><span class="p">:</span><span class="mf">2.000000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"base_vol"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"quote_vol"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='obtain-the-current-system-index'>Obtain the current system index</h2><h3 id='http-request-5'>HTTP request</h3>
<p><code>GET https://api.fmex.com/v2/market/indexes</code></p>
<h2 id='obtain-the-latest-value-of-a-certain-index'>Obtain the latest value of a certain index</h2><h3 id='http-request-6'>HTTP request</h3>
<p><code>GET https://api.fmex.com/v2/market/indexes/$indexname</code></p>
<h2 id='obtain-fee-rate'>Obtain fee rate</h2><h3 id='http-request-7'>HTTP request</h3>
<p><code>GET https://api.fmex.com/v2/market/fex</code></p>
<h1 id='account'>Account</h1><h2 id='query-the-balance-of-the-current-account'>Query the balance of the current account</h2>
<p>This api is used for query user&#39;s asset</p>
<h3 id='http-request'>HTTP Request</h3>
<p>API Path：<code>GET /v3/contracts/accounts</code></p>

<p>API Request Parameter：NON</p>
<h3 id='api-responding'>API Responding：</h3><pre class="highlight plaintext"><code>{
  "status":0,
  "data":
        {Currency: [Available balance, frozen amount for orders, position margin]
          "BTC":[2.796888254907565438,0E-18,0E-18]
          }
        }
}
</code></pre><h2 id='transfer-margin-to-wallet'>Transfer Margin to wallet</h2><h3 id='http-request-2'>HTTP Request</h3>
<p>API Path：<code>POST /v3/contracts/transfer/out/request</code></p>
<h3 id='request-parameter'>Request Parameter</h3>
<table><thead>
<tr>
<th style="text-align: left">Fieldname</th>
<th style="text-align: left">Required or not</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">currency</td>
<td style="text-align: left">Y</td>
<td style="text-align: left">Currency name，such as&quot;BTC&quot;</td>
</tr>
<tr>
<td style="text-align: left">transfer_from</td>
<td style="text-align: left">Y</td>
<td style="text-align: left">Transfer from，must be&quot;contracts&quot;</td>
</tr>
<tr>
<td style="text-align: left">transfer_to</td>
<td style="text-align: left">Y</td>
<td style="text-align: left">Transfer to，must be&quot;wallet&quot;</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">Y</td>
<td style="text-align: left">Transfer amount，such as：1.024</td>
</tr>
</tbody></table>
<h3 id='request-example'>Request example：</h3><pre class="highlight plaintext"><code>{
    "currency":"BTC",
    "transfer_from":"CONTRACTS",
    "transfer_to":"WALLET",
    "amount":1,
}
</code></pre><h3 id='api-responding-2'>API responding：</h3><pre class="highlight plaintext"><code>{
  "status": 0,
  "data": {
    "transfer_from": "contracts",
    "transfer_to": "wallet",
    "amount": 0.1,
    "transfer_id": "179363219767363",
    "currency": "BTC"
  }
}


</code></pre><h2 id='query-the-current-executing-state-of-a-transfer-out-operation-contract-gt-wallet'>Query the current executing state of a transfer-out operation (Contract-&gt;wallet)</h2>
<p>API path：<code>GET /v3/contracts/transfer/out/{transferId}/status</code></p>

<p>API Request Parameter：NON</p>
<h3 id='api-responding-3'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 0,
  'data': {
    'transfer_id': '179364285120578',
    'transfer_from': 'contracts',
    'transfer_to': 'wallet',
    'amount': 0.1,
    'done': True,
    'created_at': 1567682689265,
    'updated_at': 1567682689473,
    'error': False,
    'currency': 'BTC'
  }
}
</code></pre><h2 id='query-transfer-journal'>Query transfer journal</h2>
<p>API path：<code>GET /v3/contracts/transfer/logs</code></p>

<p>API Request Parameter：NON</p>
<h3 id='api-responding-4'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 0,
  'data': {
    'hasMore': False,
    'nextOffsetId': 0,
    'results': [
      {
        'transfer_id': '167600369696833',
        'transfer_from': 'CONTRACTS',
        'transfer_to': 'WALLET',
        'amount': 0.01,
        'done': True,
        'created_at': 1566280321419,
        'updated_at': 1566280321851,
        'error': False,
        'currency': 'BTC'
      }
    ]
  }
}
</code></pre><h1 id='order'>Order</h1><h2 id='order-mode-instruction'>Order mode instruction</h2>
<p>Order mode are composed by the following characters:</p>

<table><thead>
<tr>
<th>Character</th>
<th>Type</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>long</td>
<td>Order ID</td>
</tr>
<tr>
<td><code>sequence_id</code></td>
<td>long</td>
<td>SequencingID</td>
</tr>
<tr>
<td><code>margin_currency_id</code></td>
<td>long</td>
<td>Margin Currency ID</td>
</tr>
<tr>
<td><code>direction</code></td>
<td>enum</td>
<td>Position Direction LONG/SHORT</td>
</tr>
<tr>
<td><code>type</code></td>
<td>enum</td>
<td>Order type LIMIT/MARKET</td>
</tr>
<tr>
<td><code>status</code></td>
<td>enum</td>
<td>See order status description</td>
</tr>
<tr>
<td><code>features</code></td>
<td>long</td>
<td>Order features, each bit represents a feature:0x01=FOK，0x02=post_only，0x04=Hidden，0x08=IOC，0x8000=liquidated orders</td>
</tr>
<tr>
<td><code>price</code></td>
<td>decimal</td>
<td>Limit order price (if it&#39;s market-price order, here means the upper or lower limit of market-price order)</td>
</tr>
<tr>
<td><code>quantity</code></td>
<td>long</td>
<td>Order quantity</td>
</tr>
<tr>
<td><code>fill_price</code></td>
<td>decimal</td>
<td>Average closing price</td>
</tr>
<tr>
<td><code>unfilled_quantity</code></td>
<td>long</td>
<td>Unfulfilled quantity</td>
</tr>
<tr>
<td><code>maker_fee_rate</code></td>
<td>decimal</td>
<td>Fee rate for Maker</td>
</tr>
<tr>
<td><code>taker_fee_rate</code></td>
<td>decimal</td>
<td>Fee rate for Taker</td>
</tr>
<tr>
<td><code>fee</code></td>
<td>decimal</td>
<td>The accumulated transaction fee charged for this order</td>
</tr>
<tr>
<td><code>trigger_on</code></td>
<td>decimal</td>
<td>The trigger price for Stop orders, and the trigger price for non-stop orders is always 0</td>
</tr>
<tr>
<td><code>trailing_base_price</code></td>
<td>decimal</td>
<td>The base price for TrailingStop orders other than this type is always 0</td>
</tr>
<tr>
<td><code>trailing_distance</code></td>
<td>decimal</td>
<td>The distance between trigger price for TrailingStop orders other than this type is always 0</td>
</tr>
<tr>
<td><code>created_at</code></td>
<td>long</td>
<td>Order creation time</td>
</tr>
<tr>
<td><code>updated_at</code></td>
<td>long</td>
<td>Last modified time of this order</td>
</tr>
</tbody></table>

<p>Description of order status:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td><code>PENDING</code></td>
<td>PENDING transaction</td>
</tr>
<tr>
<td><code>PARTIAL_FILLED</code></td>
<td>Partially fulfilled</td>
</tr>
<tr>
<td><code>FULLY_FILLED</code></td>
<td>Fully filled</td>
</tr>
<tr>
<td><code>PARTIAL_CANCELLED</code></td>
<td>Partially canceled</td>
</tr>
<tr>
<td><code>FULLY_CANCELLED</code></td>
<td>Fully canceled</td>
</tr>
<tr>
<td><code>STOP_PENDING</code></td>
<td>stop order is waiting to be triggered</td>
</tr>
<tr>
<td><code>STOP_FAILED</code></td>
<td>stop order was triggered but execution fails (for example: freeze failure)</td>
</tr>
<tr>
<td><code>STOP_CANCELLED</code></td>
<td>stop order has been canceled for not been triggered</td>
</tr>
</tbody></table>
<h2 id='create-new-orders'>Create new orders</h2>
<p>This API is used to creating new orders.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /v3/contracts/orders</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameters</th>
<th>Required or not</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>symbol</code></td>
<td>Y</td>
<td>Contract code, such as&quot;BTCUSD_P&quot;</td>
</tr>
<tr>
<td><code>type</code></td>
<td>Y</td>
<td>order type, see OrderType</td>
</tr>
<tr>
<td><code>direction</code></td>
<td>Y</td>
<td>Order direction，see Direction</td>
</tr>
<tr>
<td><code>source</code></td>
<td>&quot;&quot;</td>
<td>Order source identification, such as &quot;WEB&quot;, &quot;APP&quot;, letter and number combination</td>
</tr>
<tr>
<td><code>price</code></td>
<td>only limit orders</td>
<td>only limit orders and only support 1 decimal place</td>
</tr>
<tr>
<td><code>quantity</code></td>
<td>Y</td>
<td>order quantity, integral number no less than 1 <code>trigger_on</code></td>
</tr>
<tr>
<td><code>trigger_direction</code></td>
<td>N</td>
<td>Triggered conditions of Stop-win &amp; stop-loss orders,&quot;long&quot;,&quot;short&quot;</td>
</tr>
<tr>
<td><code>trailing_distance</code></td>
<td>N</td>
<td>The distance for being triggered of the Stop-win &amp; stop-loss orders</td>
</tr>
<tr>
<td><code>fill_or_kill</code></td>
<td>N</td>
<td>Type is string，set FoK order or not</td>
</tr>
<tr>
<td><code>immediate_or_cancel</code></td>
<td>N</td>
<td>Type is string，set IOC order or not</td>
</tr>
<tr>
<td><code>post_only</code></td>
<td>N</td>
<td>Type is string，set post_only order or not</td>
</tr>
<tr>
<td><code>hidden</code></td>
<td>N</td>
<td>Type is string，set Hidden order or not</td>
</tr>
<tr>
<td><code>reduce_only</code></td>
<td>N</td>
<td>Type is string，set reduce_only order or not</td>
</tr>
</tbody></table>

<p>Please note:</p>

<p>If the order type is LIMIT, price must be filled in ;；</p>

<p>Can not both fill in trigger_on and trailing_distance；</p>

<p>If fill_or_kill=true，immediate_or_cancel, post_only、hidden or reduce_only will not be able to set；</p>

<p>If immediate_or_cancel=true，fill_or_kill, post_only、hidden or reduce_only will not be able to set；</p>

<p>If post_only=true，then fill_or_kill, immediate_or_cancel or reduce_only will not be able to set；</p>

<p>If hidden=true，then fill_or_kill or immediate_or_cancel will not be able to set；</p>

<p>Only MARKET orders and IOC order can set reduce_only=true。</p>

<p>[回复 Peggy]
Examples of the general stop-profit &amp; stop-loss orders:</p>

<p>{</p>

<p>type: &quot;MARKET&quot;,</p>

<p>quantity: 10,</p>

<p>trigger_on: 8000,</p>

<p>trigger_direction: &quot;LONG&quot;,</p>

<p>direction: &quot;LONG&quot;,</p>

<p>... }</p>

<p>In this example, when the price is greater than or equal to 8000, a 10-contract market price long order will be submitted to the market. If trigger_direction is short, it indicates that if the price is less than or equal to 8000, a 10-contract market price short order will be submitted to the market.</p>

<p>Trailing stop-loss:
：</p>

<p>{</p>

<p>type: &quot;MARKET&quot;,</p>

<p>quantity: 10,</p>

<p>trailing_distance: 100,</p>

<p>trigger_direction: &quot;SHORT&quot;,</p>

<p>direction: &quot;SHORT&quot;,</p>

<p>... }</p>

<p>Once the user submits this typed order, the 10-contracts market price buy order will be submitted when the current market price falls beyond the trailing distance of 100.</p>

<p>However, if the market price rises, the order will track the price and be executed when the market price reaches its peak and falls beyond the trailing distance of 100.</p>

<p>If trigger_direction and direction are both long, it means that once the user submits this type of orders, the 10-contracts market price buy order will be submitted when the current market price increases beyond the trailing distance of 100.</p>
<h3 id='api-responding'>API responding ：</h3><pre class="highlight plaintext"><code>{
  "status": 0,
  "data": {
    "id": 167624805711936,  #Distributed id calculated by API
    "sequenceId": 260087,  #SequenceId calculated by sequence 
    "type": "LIMIT",  #Order type LIMIT/MARKET
    "status": "PENDING",  #Order status
    "direction": "SHORT", #Order direction LONG/SHORT
    "features": 0,        #Order features，combine by bit：FOK/IOC/HIDDEN/post_only
    "price": 100.0,     #Limit price, only for LIMIT orders
    "quantity": 200,    #Quantity
    "unfilled_quantity": 200, #Unfilled quantity 
    "maker_fee_rate": -0.00025,#maker fee rate
    "taker_fee_rate": 0.001,   #taker fee rate
    "fee": 0,                #Accumulated fee charged for the order 
    "trigger_direction": "LONG",# Trigger direction
    "trigger_on": 0,
    "trailing_base_price": 0,#Trigger base price
    "trailing_distance": 0,#Triggered distance
    "created_at": 1566283234499, #Order creation timestamp
    "updated_at": 1566283234499, #Update timestamp
    "frozen_margin": 0.034188034188034184,#freeze margin
    "frozen_quantity": 20000,#frozen quantity
    "hidden": false #Hidden or not 
  }
}
</code></pre><h2 id='cancel-order'>Cancel order</h2>
<p>This API is used for canceling orders</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /v3/contracts/orders/&lt;order_id&gt;/cancel</code></p>

<p>Description：
order_id is order id</p>
<h3 id='request-parameter'>Request Parameter</h3>
<p>NON</p>
<h3 id='api-responding-2'>API responding：</h3><pre class="highlight plaintext"><code>{
  "status": 0,
  "data": {
    "id": 167624805711936,  #Distributed ID calculated by API
    "sequenceId": 260087,  #SequenceId calculated by sequence 
    "type": "LIMIT",  #Order type is LIMIT/MARKET
    "status": "PENDING",  #Order status
    "direction": "SHORT", #Order direction LONG/SHORT
    "features": 0,        #Order features，combine by bit：FOK/IOC/HIDDEN/post_only
    "price": 100.0,     #Limit price, only for LIMIT orders
    "quantity": 200,    #Quantity
    "unfilled_quantity": 200, #Unfilled quantity 
    "maker_fee_rate": -0.00025,#maker fee rate
    "taker_fee_rate": 0.001,   #taker fee rate
    "fee": 0,                #Accumulated fee charged for the order 
    "trigger_direction": "LONG",#Trigger direction
    "trigger_on": 0,
    "trailing_base_price": 0,#Trigger base price
    "trailing_distance": 0,#Triggered distance
    "created_at": 1566283234499, #Order creation timestamp
    "updated_at": 1566283234499, #Update timestamp
    "frozen_margin": 0.034188034188034184,#Freeze margin
    "frozen_quantity": 20000,#Frozen quantity
    "hidden": false #Hidden or not
  }
}
</code></pre><h2 id='query-activity-orders'>Query activity orders</h2>
<p>This API is used to querying activity orders</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /v3/contracts/orders/open</code></p>
<h3 id='request-parameter-2'>Request Parameter</h3>
<p>NON</p>
<h3 id='api-responding-3'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 0,
  'data': {
    'results': [
      {
        'id': 167560221818945,
        'sequenceId': 259092,
        'type': 'LIMIT',
        'status': 'PENDING',
        'direction': 'SHORT',
        'features': 0,
        'price': 15677.0,
        'quantity': 265,
        'unfilled_quantity': 265,
        'maker_fee_rate': -0.00025,
        'taker_fee_rate': 0.001,
        'fee': 0,
        'trigger_direction': 'LONG',
        'trigger_on': 0,
        'trailing_base_price': 0,
        'trailing_distance': 0,
        'created_at': 1566275535810,
        'updated_at': 1566275535810,
        'frozen_margin': 0.000169037443388403,
        'frozen_quantity': 265,
        'hidden': False
      }
    ]
  }
}
</code></pre><h2 id='query-activity-orders-details'>Query activity orders details</h2>
<p>This API is used to querying activity orders details</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /v3/contracts/orders/open/&lt;order_id&gt;</code></p>

<p>Description：
order_id is order id</p>
<h3 id='request-parameter-3'>Request Parameter</h3>
<p>NON</p>
<h3 id='api-responding-4'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 0,
  'data': {
        'id': 167560221818945,
        'sequenceId': 259092,
        'type': 'LIMIT',
        'status': 'PENDING',
        'direction': 'SHORT',
        'features': 0,
        'price': 15677.0,
        'quantity': 265,
        'unfilled_quantity': 265,
        'maker_fee_rate': -0.00025,
        'taker_fee_rate': 0.001,
        'fee': 0,
        'trigger_direction': 'LONG',
        'trigger_on': 0,
        'trailing_base_price': 0,
        'trailing_distance': 0,
        'created_at': 1566275535810,
        'updated_at': 1566275535810,
        'frozen_margin': 0.000169037443388403,
        'frozen_quantity': 265,
        'hidden': False
  }
}
</code></pre><h2 id='obtain-order-details-by-order-id'>Obtain order details by order id</h2>
<p>This API is used to query all order details</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET /v3/contracts/orders/&lt;order_id&gt;</code></p>

<p>Description：
order_id is order id</p>
<h3 id='request-parameters-2'>Request parameters</h3>
<p>NON</p>
<h3 id='api-responding-5'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 0,
  'data': {
        'id': 167560221818945,
        'sequenceId': 259092,
        'type': 'LIMIT',
        'status': 'PENDING',
        'direction': 'SHORT',
        'features': 0,
        ‘fill_price':0   #Average filled price
        'price': 15677.0, #order placed price 
        'quantity': 265,
        'unfilled_quantity': 265,
        'maker_fee_rate': -0.00025,
        'taker_fee_rate': 0.001,
        'fee': 0,
        'trigger_direction': 'LONG',
        'trigger_on': 0,
        'trailing_base_price': 0,
        'trailing_distance': 0,
        'created_at': 1566275535810,
        'updated_at': 1566275535810,
        'frozen_margin': 0.000169037443388403,
        'frozen_quantity': 265,
        'hidden': False
  }
}
</code></pre><h2 id='query-history-order'>Query history order</h2>
<p>This API is used to query history orders</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET /v3/contracts/orders/closed</code></p>
<h3 id='request-parameters-3'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameters</th>
<th>Required or not</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>range</td>
<td>N</td>
<td>Query the month in the form of YYYYMM, for example &quot;201907&quot;, which by default is null to indicate the current month.</td>
</tr>
<tr>
<td>symbol</td>
<td>N</td>
<td>is used to filter query conditions, filtering only orders that specify symbol, which by default is null, representing all symbols.</td>
</tr>
<tr>
<td>offsetId</td>
<td>N</td>
<td>Transfer-in the starting id of the current page, which by default is  0, indicating the first page.</td>
</tr>
<tr>
<td>limit</td>
<td>N</td>
<td>The maximum number of returning ResultSets, ranging from 1 to 100, which by default is 100.</td>
</tr>
</tbody></table>
<h3 id='api-responding-6'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 0,
  'data': {
    'range': '201908',
    'hasMore': True,
    'nextOffsetId': 163466438508609,
    'results': [
      {
        'id': 163466455285825,
        'sequenceId': 79260,
        'type': 'LIMIT',
        'status': 'FULLY_FILLED',
        'direction': 'SHORT',
        'features': 0,
        'price': 5286.0,
        'quantity': 332,
        'unfilled_quantity': 0,
        'maker_fee_rate': -0.00025,
        'taker_fee_rate': 0.001,
        'fee': -1.570185395384e-05,
        'trigger_direction': 'LONG',
        'trigger_on': 0.0,
        'trailing_base_price': 0.0,
        'trailing_distance': 0.0,
        'created_at': 1565787520849,
        'updated_at': 1565787520849
      },
      {...}
    ]
  }
}
</code></pre><h2 id='query-order-fulfillment-history'>Query order fulfillment history</h2>
<p>This API is used to query order fulfillment history</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET /v3/contracts/orders/&lt;order_id&gt;/matches</code></p>

<p>Description：
order_id is the order id</p>
<h3 id='request-parameters-4'>Request parameters</h3>
<p>NON</p>
<h3 id='api-responding-7'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 0,
  'data': {
    'results': [
      {
        'taker': False,
        'price': 13403.0,
        'quantity': 994.0,
        'fee': -1.8540625233156e-05,
        'created_at': 1566275534853
      }
    ]
  }
}
</code></pre><h1 id='positions'>Positions</h1><h2 id='obtain-position-lists'>Obtain position lists</h2>
<p>This API is used for obtaining position list.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /v3/broker/auth/contracts/positions</code></p>
<h3 id='request-parameter'>Request Parameter</h3>
<p>NON</p>
<h3 id='api-responding'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 'ok',
  'data': {
    'results': [
      {
        'direction': 'SHORT',  #Position Direction
        'updated_at': 1566271860000,  #Millisecond timestamp of the latest modified Position 
        'quantity': 0,  #The number of contracts held must be positive. If it is 0, means the position is fully closed 
        'leverage': 0, #leverage ratio set for position which is not necessarily equal to actual leverage ratio
        'riskLevel': 0, #Risk level
        'max_quantity': 100000, #The maximum contract quantity held
        'realized_pnl': -0.036307524734501204, #Realized PNL, Realized PNL is only as a statistical display to the user which is the profit and loss since the opening of the position  
        'taker_fee_rate': 0.001, #Taker position closing rate determined at position opening 
        'margin': 0.0, #Position margin, must be positive 
        'bankruptcy_price': 0.0, #Bankruptcy price, the profit shall be 0 if the position has been closed at the price after deducting taker fee
        'liquidation_price': 0.0, #Liquidation price, the profit shall be position value x margin rate if the position has been closed at this price after deducting taker fee        'entry_price': 11017.0, #Average opening price, the average opening price will be adjusted  each time a position is increased or decreased
        'symbol': 'BTCUSD_P', #Position contract code, such asBTCUSD_P
        'closed': True, #Close the position or not
        'minimum_maintenance_margin_rate': 0.005 #The minimum maintenance margin. If the margin is lowered to this level, the liquidation will be triggered immediately.      }
    ]
  }
}
</code></pre><h2 id='set-position-leverage'>Set position leverage</h2><h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /v3/contracts/positions/$symbol/leverage</code></p>

<p>symbol：URL Parameter, Symbol name of the position</p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameters</th>
<th>Required or not</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>leverage</td>
<td>Required</td>
<td>0～the maximum allowable value，0 = full position，1～the maximum allowable value = Isolated margin leverage</td>
</tr>
</tbody></table>
<h3 id='request-example'>Request example</h3>
<p>{
  &#39;leverage&#39;: 0
}</p>
<h3 id='api-responding-2'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 0,
  'data': {
    'leverage': 0
  }
}
</code></pre><h2 id='set-position-margin'>Set position margin</h2><h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /v3/contracts/positions/$symbol/margin</code></p>

<p>symbol：URL Parameter, Symbol name of the position</p>
<h3 id='request-parameters-2'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameters</th>
<th>Required or not</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>margin</td>
<td>Required</td>
<td>Set new position margin</td>
</tr>
</tbody></table>
<h3 id='request-example-2'>Request example</h3>
<p>{
  &#39;margin&#39;: 0
}</p>
<h3 id='api-responding-3'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 0,
  'data': {
    'margin': 0
  }
}
</code></pre><h2 id='set-risk-level-of-the-position'>Set risk level of the position</h2><h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /v3/contracts/positions/$symbol/riskLevel</code></p>

<p>symbol：URL Parameter, Symbol name of the position</p>
<h3 id='request-parameters-3'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameters</th>
<th>Required or not</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>risk_level</td>
<td>Required</td>
<td>0～the maximum allowable value</td>
</tr>
</tbody></table>
<h3 id='request-example-3'>Request example</h3>
<p>{
  &#39;risk_level&#39;: 0
}</p>
<h3 id='api-responding-4'>API responding：</h3><pre class="highlight plaintext"><code>{
  'status': 0,
  'data': {
    'risk_level': 0
  }
}
</code></pre>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
