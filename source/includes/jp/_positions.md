# ポジション

## ポジションのリストの照会

このAPIを使用して、ポジションのリストを取得できます。

### HTTP リクエスト

`GET /v3/broker/auth/contracts/positions`

### リクエスト・パラメータ
無し

### APIレスポンス：
```
{
  'status': 'ok',
  'data': {
    'results': [
      {
        'direction': 'SHORT',  #ポジションの方向
        'updated_at': 1566271860000,  #最後にポジションの変更タイムスタンプ（ミリ秒レベル）
        'quantity': 0,  #保有している契約の数量です。プラスでなければなりません。0の場合は、すべてのポジションが清算されたことを示します。
        'leverage': 0, #ポジションで設定されたレバレッジ比率です。それは、実際のレバレッジ比率と必ずしも同じではありません。
        'riskLevel': 0, #リスクレベル
        'max_quantity': 100000, #保有可能な契約数量の最大限
        'realized_pnl': -0.036307524734501204, #実現損益。実現損益は統計データとしてユーザーに提示され、ポジションが構築されてからの損益を示します。
        'taker_fee_rate': 0.001, #ポジションを構築したときに決定されたポジション解消用のtaker手数料レート
        'margin': 0.0, #ポジションの証拠金です。プラスでなければなりません。
        'bankruptcy_price': 0.0, #破産価格。この価格でポジションを解消し、takerとしての手数料を差し引いた後、その権益は0です。
        'liquidation_price': 0.0, #清算価格、この価格でポジションを解消し、takerとしての手数料を差し引いた後、残りの権益は「ポジションと維持証拠金の積」です。
        'entry_price': 11017.0, #ポジション構築の平均価格。ポジション構築の平均価格は、ポジションが増減するたびに調整されます。
        'symbol': 'BTCUSD_P', #ポジションの契約コード、たとえば、BTCUSD_P。
        'closed': True, #ポジションが解消されるかどうか
        'minimum_maintenance_margin_rate': 0.005 #維持証拠金の最小限。ポジション証拠金が維持証拠金の最小限になると、即時に清算されます。
      }
    ]
  }
}
```
## ポジションレバレッジの設定

### HTTP リクエスト

`POST /v3/contracts/positions/$symbol/leverage`

symbol：URLパラメータ、ポジションのSymbol名
### 無し
パラメータ| 必須かどうか | 説明
--------- | ------- | -----------
leverage| 必須| 0～最大許容値、0=クロース、1～最大許容値=分離でレバレッジの倍数

### リクエストのデモンストレーション
{
  'leverage': 0
}

### APIレスポンス：
```
{
  'status': 0,
  'data': {
    'leverage': 0
  }
}
```

##ポジション証拠金の設定

### HTTP リクエスト

`POST /v3/contracts/positions/$symbol/margin`

symbol：URLパラメータ、ポジションのSymbol名称

### リクエスト・パラメータ

パラメータ| 必要かどうか | 説明
--------- | ------- | -----------
margin| 必要| 改めてポジション証拠金を設定する

### リクエストのデモンストレーション
{
  'margin': 0
}

### APIレスポンス：
```
{
  'status': 0,
  'data': {
    'margin': 0
  }
}
```

##ポジションのリスクレベルの設定

### HTTP リクエスト

`POST /v3/contracts/positions/$symbol/riskLevel`

symbol：URLパラメータ、ポジションのSymbol名称

### リクエスト・パラメータ
パラメータ| 必要かどうか | 説明|
--------- | ------- | -----------
risk_level| 必要　|0～最大許容値

### リクエストのデモンストレーション
{
  'risk_level': 0
}

### APIレスポンス：
```
{
  'status': 0,
  'data': {
    'risk_level': 0
  }
}
```